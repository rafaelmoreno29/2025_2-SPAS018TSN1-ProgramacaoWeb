<div class="row">
    <div class="col-md-9">
        <input type="text" class="form-control" [(ngModel)]="nome" placeholder="Pesquisar...">
    </div>
    <div class="col-md-3">
        <button class="btn btn-secondary me-2"><i class="bi bi-search"></i> Pesquisar</button>
        <button (click)="open(content)" class="btn btn-primary"><i class="bi bi-plus-lg"></i> Novo</button>
    </div>
</div>
<div class="row">
    <div class="col">
        <input id="mostrar" type="checkbox" [(ngModel)]="mostraTabela">
        <label for="mostrar">Mostrar Tabela</label>
    </div>
</div>
<div class="row">
    <div class="col">
        @if(mostraTabela){
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Cidade</th>
                    <th scope="col">Status</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @for (c of clientes; track $index) {
                <tr>
                    <th scope="row">{{c.id}}</th>
                    <td [ngStyle]="{'background-color': 
                    nome === c.nome ? 'lightblue' : 'white'}">{{c.nome}}</td>
                    <td [ngClass]="{'saoPaulo': c.cidade === 'São Paulo'}">{{c.cidade}}</td>
                    <td>
                        @switch (c.cidade) {
                        @case ('São Paulo') {
                        <span class="badge bg-success">Ativo</span>
                        }
                        @case ('Rio de Janeiro') {
                        <span class="badge bg-warning text-dark">Inativo</span>
                        }
                        @default {
                        <span class="badge bg-secondary">Indefinido</span>
                        }
                        }
                    </td>
                    <td><button class="btn btn-primary" (click)="clienteSelecionado = c">
                            Selecionar</button></td>
                </tr>
                }
            </tbody>
        </table>
        }
    </div>
</div>
@if(clienteSelecionado != null) {
<div class="row">
    <div class="col">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Cliente Selecionado</h5>
                <p><b>Id:</b> {{clienteSelecionado.id}}</p>
                <p><b>Nome:</b> {{clienteSelecionado.nome}}</p>
                <p><b>Cidade:</b> {{clienteSelecionado.cidade}}</p>
                <button class="btn btn-secondary" (click)="clienteSelecionado = null">
                    Limpar Seleção</button>
            </div>
        </div>
    </div>
</div>
}
<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Profile update</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <form>
            <div class="mb-3">
                <label for="dateOfBirth">Date of birth</label>
                <div class="input-group">
                    <input id="dateOfBirth" class="form-control" placeholder="yyyy-mm-dd" name="dp" ngbDatepicker
                        #dp="ngbDatepicker" />
                    <button class="btn btn-outline-secondary bi bi-calendar3" (click)="dp.toggle()"
                        type="button"></button>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" (click)="modal.close('Save click')">Save</button>
    </div>
</ng-template>